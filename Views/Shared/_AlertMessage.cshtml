@using System.Web
@using linc.Models.Enumerations
@using linc.Utility

<script>
    window.addEventListener('DOMContentLoaded', (event) => {

        let swalMessage;

    @{
        
        if (User.IsAtLeast(SiteRole.User) && TempData.Peek("AlertMessage") is string alertMessage)
        {
            @:let rawMessage = '@Html.Raw(HttpUtility.JavaScriptStringEncode(alertMessage))';
            @:swalMessage = JSON.parse(rawMessage);
            TempData.Remove("AlertMessage");
        }
    }

        if (swalMessage) {
            Swal.fire(swalMessage);
        }
    });
</script>
